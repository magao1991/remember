/*!
 * author:jieyou
 * contacts:百度hi->youyo1122
 * see https://github.com/jieyou/remember
 */
!function(a){function h(a){function b(){document.removeEventListener("DOMContentLoaded",b,!1),window.removeEventListener("load",b,!1),a.call(document)}"complete"===document.readyState?setTimeout(b):(document.addEventListener("DOMContentLoaded",b,!1),window.addEventListener("load",b,!1))}function i(a){var b=a.tagName;return b?b.toUpperCase():null}function j(a){return"string"==typeof a&&(a=document.getElementById(a)),a&&1===a.nodeType?a:document}function k(a,b){if(a===b)return!0;if(a.compareDocumentPosition){if(20===a.compareDocumentPosition(b))return!0}else if(a.contains&&a.contains(b))return!0;return!1}function l(){var a;try{if(a=localStorage.getItem(b.localStorageKeyPrefix+d))return a}catch(c){}return null}function m(a){var e,g,h,i,c=l(),j=[];if(c&&(g={},e=c.split("&"),f.call(e,function(a){var c=a.split("=");g[c[0]]=c[1]})),g)for(h in a)g[h]=a[h];else g=a;for(i in g)j.push(i+"="+g[i]);try{localStorage.setItem(b.localStorageKeyPrefix+d,j.join("&"))}catch(k){}}function n(a,b){b=b||{},this.wrapperDOM=a,this.handleSetValueFromCacheFuncs=b.handleSetValueFromCacheFuncs||{},this.ignoreIds=b.ignoreIds||[]}function o(a){a._changeEventFunc=function(b){var f,g,c=b.target,d=i(c),e=c.id;return e&&-1!==a.ignoreIds.indexOf(e)?!0:("SELECT"===d?g=!0:"INPUT"===d&&(g=!0,f=c.type,("checkbox"===f||"radio"===f)&&(g=!0)),g&&m(a.getKvObj()),void 0)},a.wrapperDOM.addEventListener("change",a._changeEventFunc,!0),a._blurEventFunc=function(c){var h,d=c.target,e=i(d),f=d.id,g=d.type;return f&&-1!==a.ignoreIds.indexOf(f)?!0:(("INPUT"===e&&"checkbox"!==g&&"radio"!==g||"TEXTAREA"===e)&&(h=d.value,"TEXTAREA"===e&&(h=h.replace(/\n/g,b.textareaLineFeedHolder)),h!==d.getAttribute(b.oldValueAttributeName)&&(d.setAttribute(b.oldValueAttributeName,h),m(a.getKvObj()))),void 0)},a.wrapperDOM.addEventListener("blur",a._blurEventFunc,!0)}function p(a,b){var d,f=!1;if(a=j(a),g.call(e,function(b){return k(b,a)||k(a,b)?(f=!0,!0):void 0}),f)throw new Error("Specified `wrapperDOM` has been occupied or has been included by another occupied `wrapperDOM` or has another occupied `wrapperDOM` included.");return e.push(a),d=new n(a,b),h(function(){var a=l();c&&(a&&d.setValue(a),o(d))}),d}var b={noValueRadioIndexPrefix:"__R_NVRIP__",oldValueAttributeName:"data-roldvalue",textareaLineFeedHolder:"__R_TLFH_ramdom_769768842_ramdom_",localStorageKeyPrefix:"__R_LSK__"},c="localStorage"in window,d=encodeURIComponent(location.href.replace(location.hash,""))+"__",e=[],f=Array.prototype.forEach,g=Array.prototype.some;n.prototype.setValue=function(a){var c=a.split("&"),d=this;f.call(c,function(a){var j,m,n,o,p,e=a.split("="),f=e[0],h=document.getElementById(f),l=e[1];h&&-1===d.ignoreIds.indexOf(f)&&k(d.wrapperDOM,h)&&(n=!0,thisHandleSetValueFromCacheFunc=d.handleSetValueFromCacheFuncs[f],"function"==typeof thisHandleSetValueFromCacheFunc&&(n=thisHandleSetValueFromCacheFunc.call(h,l,d.wrapperDOM)),n&&(j=i(h),"INPUT"===j?(m=h.type,"checkbox"===m?h.checked="1"===l:"radio"===m?(o=h.ownerDocument.getElementsByName(h.name),0===l.indexOf(b.noValueRadioIndexPrefix)?(l=parseInt(l.replace(b.noValueRadioIndexPrefix,"")),!isNaN(l)&&o[l]&&(o[l].checked=!0)):g.call(o,function(a){return a.value===l?(a.checked=!0,!0):void 0})):(h.setAttribute(b.oldValueAttributeName,l),h.value=l)):"TEXTAREA"===j?(h.setAttribute(b.oldValueAttributeName,l),h.value=l.replace(new RegExp(b.textareaLineFeedHolder,"g"),"\n")):"SELECT"===j?(p=h.getElementsByTagName("OPTION"),g.call(p,function(a,b){return a.value===l?(h.selectedIndex=b,!0):void 0})):h.value=l))})},n.prototype.getKvObj=function(){var c,d,e,a={},g=[],h=this,j=this.wrapperDOM,k=i(j);switch(k){case"SELECT":c=[j],d=[],e=[];break;case"TEXTAREA":c=[],d=[j],e=[];break;case"INPUT":c=[],d=[],e=[j];break;default:c=j.getElementsByTagName("SELECT"),d=j.getElementsByTagName("TEXTAREA"),e=j.getElementsByTagName("INPUT")}return f.call(c,function(b){var d=b,e=d.id;e&&-1===h.ignoreIds.indexOf(e)&&(a[e]=d.value)}),f.call(d,function(c){var e=c,f=e.id;f&&-1===h.ignoreIds.indexOf(f)&&(a[f]=e.value.replace(/\n/g,b.textareaLineFeedHolder))}),f.call(e,function(c){var j,k,l,m,n,e=c,i=e.id;i&&-1===g.indexOf(i)&&-1===h.ignoreIds.indexOf(i)&&(j=e.type,"checkbox"===j?k=e.checked?"1":"0":"radio"===j?(l=e.name,m=l?e.ownerDocument.getElementsByName(l):[e],f.call(m,function(a,c){a.checked&&!n&&(n=!0,k=a.getAttribute("value"),k||(k=b.noValueRadioIndexPrefix+c)),g.push(a.id)}),k||(k="")):k=e.value,a[i]=k)}),a},n.prototype.stop=function(){var a=this.wrapperDOM;a.removeEventListener("change",this._changeEventFunc,!0),a.removeEventListener("blur",this._blurEventFunc,!0),delete this._changeEventFunc,delete this._blurEventFunc,g.call(e,function(b,c){return b===a?(e.splice(c,1),!0):void 0})},a.remember=p,a.remember.configs=b}(function(){return this}());